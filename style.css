/* =========================================================
   emiralili.it — style.css (UNICO)
   Menu robusto (indipendente dalla struttura DOM)
   Immagini mobile sempre corrette
   ========================================================= */

/* =============== TOKENS =============== */
:root{
  --bg: #f6f7fb;
  --paper: #ffffff;
  --ink: #0b1020;
  --muted: rgba(11,16,32,.65);
  --line: rgba(11,16,32,.12);

  --accent: #ff4d2e;
  --accent2: #ffb000;

  --radius: 18px;
  --shadow: 0 16px 40px rgba(11,16,32,.12);

  --container: 1120px;

  --s1: 8px;
  --s2: 12px;
  --s3: 16px;
  --s4: 24px;
  --s5: 32px;
  --s6: 48px;
  --s7: 72px;

  --display: clamp(1.9rem, 6vw, 3rem);
  --h2: clamp(1.25rem, 4vw, 1.85rem);
}

/* =============== BASE =============== */
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background: var(--bg);
  color: var(--ink);
  line-height:1.6;
}
img{max-width:100%; height:auto; display:block}
a{color:inherit}
strong{font-weight:700}

/* lock scroll (usato dal menu) */
html.menu-open, body.menu-open{overflow:hidden}

/* =============== LAYOUT =============== */
.container{
  max-width: var(--container);
  margin: 0 auto;
  padding: 0 var(--s4);
}
.section{padding: var(--s6) 0}
@media (max-width:480px){
  .section{padding: var(--s5) 0}
}

/* =============== TYPO =============== */
.display{
  font-size: var(--display);
  line-height:1.1;
  letter-spacing:-.03em;
  margin: 0 0 12px;
}
.display .accent{
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  -webkit-background-clip:text;
  background-clip:text;
  color: transparent;
}
.lead{
  margin: 0 0 16px;
  color: var(--muted);
  max-width: 62ch;
}

/* =============== HEADER =============== */
.site-header{
  position: sticky;
  top:0;
  z-index: 900; /* sotto drawer/backdrop, sopra pagina */
  background: rgba(246,247,251,.92);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--line);
}
.header-inner{
  height: 64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: var(--s3);
}

.brand{
  display:flex;
  align-items:center;
  gap: 12px;
  text-decoration:none;
  min-width: 0;
}
.brand-mark{
  width:36px; height:36px;
  border-radius:12px;
  display:grid; place-items:center;
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  font-weight: 900;
  color:#0b0f1a;
  flex: 0 0 auto;
}
.brand-name{
  display:flex;
  flex-direction:column;
  gap:2px;
  min-width:0;
}
.brand-name strong{
  font-size:.85rem;
  letter-spacing:.15em;
  text-transform: uppercase;
  white-space:nowrap;
}
.brand-name span{
  font-size:.78rem;
  color: var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* =============== NAV (ROBUSTO) =============== */
/* IMPORTANTE: non dipende da dove sta nel DOM.
   Funziona con [data-nav-toggle], [data-nav-panel], [data-nav-backdrop]. */

.nav-btn{
  width:42px;
  height:42px;
  border-radius:999px;
  border:1px solid var(--line);
  background: var(--paper);
  display:grid;
  place-items:center;
  cursor:pointer;
  position: relative;
  z-index: 901; /* sopra header */
}
.nav-btn-icon{
  width:18px; height:2px;
  background: var(--ink);
  border-radius:2px;
  position:relative;
}
.nav-btn-icon::before,
.nav-btn-icon::after{
  content:"";
  position:absolute;
  left:0;
  width:18px; height:2px;
  background: var(--ink);
  border-radius:2px;
}
.nav-btn-icon::before{top:-6px}
.nav-btn-icon::after{top:6px}

/* backdrop e drawer sono FIXED, globali */
[data-nav-backdrop]{
  position: fixed;
  inset: 0;
  background: rgba(11,16,32,.55);
  opacity: 0;
  pointer-events: none;
  transition: opacity .18s ease;
  z-index: 1000;
}

/* drawer: usa 100dvh (mobile moderno) e fallback */
[data-nav-panel]{
  position: fixed;
  top: 0;
  right: 0;
  width: min(420px, 100vw);
  height: 100dvh;
  height: 100vh; /* fallback */
  background: var(--paper);
  box-shadow: -20px 0 60px rgba(0,0,0,.25);
  transform: translateX(100%);
  transition: transform .22s ease;
  z-index: 1001;
  display:flex;
  flex-direction:column;
  padding: 18px;
  gap: 12px;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
}

/* STATO APERTO: su html.menu-open (indipendente dal DOM) */
html.menu-open [data-nav-backdrop]{
  opacity: 1;
  pointer-events: auto;
}
html.menu-open [data-nav-panel]{
  transform: translateX(0);
}

/* contenuti drawer */
.nav-drawer-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--line);
}
.nav-drawer-title{
  font-weight: 900;
  letter-spacing: .12em;
  text-transform: uppercase;
  font-size: .78rem;
  color: var(--muted);
}
.nav-close{
  width: 40px; height: 40px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: transparent;
  cursor:pointer;
  font-size: 1.35rem;
  line-height: 1;
}

.nav-list{
  list-style:none;
  padding:0;
  margin: 6px 0 0;
  display:flex;
  flex-direction:column;
  gap: 6px;
}
.nav-link{
  display:block;
  padding: 12px 14px;
  border-radius: 14px;
  text-decoration:none;
  font-weight: 650;
}
.nav-link:hover{background: rgba(0,0,0,.05)}
.nav-link.is-active{background: rgba(255,77,46,.14)}

.nav-actions{
  margin-top: auto;
  display:flex;
  flex-wrap:wrap;
  gap: 10px;
}

/* =============== BUTTONS =============== */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 12px 16px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--paper);
  text-decoration:none;
  font-weight: 900;
  letter-spacing: .12em;
  text-transform: uppercase;
  font-size: .72rem;
}
.btn-primary{
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  border-color: rgba(255,77,46,.2);
  color:#0b0f1a;
}
.btn-ghost:hover{background: rgba(0,0,0,.05)}

/* =============== IMMAGINI (MOBILE SAFE) =============== */
/* Wrapper universale: impedisce immagini “smisurate” e deformate */
.media{
  border-radius: calc(var(--radius) + 6px);
  overflow:hidden;
  background:#fff;
  box-shadow: var(--shadow);
}

/* Default: non deforma MAI */
.media img{
  width: 100%;
  height: auto;
  max-height: 70dvh;
  max-height: 70vh;
  object-fit: contain;
  object-position: center;
}

/* Hero: cover ma controllato */
.media--hero img{
  height: clamp(260px, 55dvh, 540px);
  height: clamp(260px, 55vh, 540px);
  object-fit: cover;
  object-position: center 20%;
}

/* Caso “testa tagliata”: sposta su */
.media--top img{
  object-position: center 10%;
}

/* Shot: ratio stabile (no immagini giganti) */
.media--shot img{
  aspect-ratio: 4 / 3;
  object-fit: cover;
  max-height: none;
}

/* =============== FOOTER =============== */
.site-footer{
  border-top:1px solid var(--line);
  background:#fff;
  padding: 24px 0;
}
.footer-inner{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  color: var(--muted);
}
.footer-links{
  display:flex;
  flex-wrap:wrap;
  gap: 10px;
}
.footer-links a{
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  text-decoration:none;
}
.footer-links a:hover{background: rgba(0,0,0,.05)}
